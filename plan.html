<!doctype html><html lang="ja"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>TSH - 生産計画</title>
<link rel="stylesheet" href="style.css"/>
</head><body>
<div class="nav no-print">
  <img src="tsh.png" style="height:24px;margin-right:10px">
  <a href="index.html">ダッシュボード</a>
  <a class="active" href="plan.html">生産計画</a>
  <a href="ship.html">出荷計画</a>
  <a href="scan.html">QRスキャン</a>
  <a href="ticket.html">生産現品票</a>
  <span style="margin-left:auto" id="syncLog"></span>
</div>

<div class="container">
  <div class="card no-print" style="display:flex;gap:8px;align-items:center">
    <input id="q" class="inp" placeholder="検索（品名/品番/得意先/製造番号）" style="flex:1">
    <select id="fltProcess" class="inp"></select>
    <select id="fltStatus" class="inp">
      <option value="">ステータス（全て）</option>
      <option>計画</option><option>進行中</option><option>保留</option><option>完了</option>
    </select>
    <button id="btnClearFilter" class="btn">クリア</button>
    <button id="btnAddPlan" class="btn primary">追加</button>
    <button id="btnPull" class="btn">取得</button>
    <button id="btnPush" class="btn">送信</button>
  </div>

  <div class="card">
    <table class="table">
      <thead><tr>
        <th>得意先</th><th>製造番号</th><th>品名</th><th>品番</th><th>開始</th><th>プロセス</th>
        <th>場所</th><th>ステータス</th><th>更新</th><th class="no-print">操作</th>
      </tr></thead>
      <tbody id="planBody"></tbody>
    </table>
  </div>
</div>

<!-- Modal -->
<div id="planModal" class="hidden" style="position:fixed;inset:0;background:rgba(0,0,0,.4);display:flex;align-items:center;justify-content:center">
  <div class="card" style="min-width:560px;background:#fff">
    <h1 id="planModalTitle">生産計画</h1>
    <div class="grid" style="gap:8px;grid-template-columns:1fr 1fr">
      <input id="fCustomer" class="inp" placeholder="得意先">
      <input id="fProdNo" class="inp" placeholder="製造番号">
      <input id="fItemName" class="inp" placeholder="品名">
      <input id="fItemNo" class="inp" placeholder="品番">
      <input id="fStart" class="inp" type="date">
      <select id="fProcess" class="inp"></select>
      <input id="fLocation" class="inp" placeholder="場所">
      <select id="fStatus" class="inp"><option>計画</option><option>進行中</option><option>保留</option><option>完了</option></select>
    </div>
    <div style="margin-top:10px;display:flex;gap:8px;justify-content:flex-end">
      <button id="planModalClose" class="btn">閉じる</button>
      <button id="btnPlanSave" class="btn primary">保存</button>
    </div>
  </div>
</div>

<div id="loginBar"></div>
<script src="app.js"></script>
<script>App.initPage('plan');</script>
</body></html>
