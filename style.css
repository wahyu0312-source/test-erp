/* ===== Design tokens ===== */
:root{
  --bg:#f7f8fb;
  --card:#ffffff;
  --ink:#0f172a;
  --muted:#64748b;
  --line:#e5e7eb;
  --brand:#4f46e5;
  --brand-ink:#ffffff;
  --ring: 0 1px 0 rgba(16,24,40,.06), 0 1px 2px rgba(16,24,40,.06);
  --radius:14px;
  --radius-sm:10px;
}

/* ===== Utilities ===== */
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;color:var(--ink);background:var(--bg);font:14px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
img{max-width:100%;display:block}
.u-bg{background:var(--bg)}
.u-muted{color:var(--muted)}
.text-sm{font-size:.875rem}
.text-xs{font-size:.75rem}
.stack > * + *{margin-top:12px}
.row{display:flex;align-items:center;gap:12px}
.row.gap-sm{gap:8px}
.row.wrap{flex-wrap:wrap}

/* ===== Header ===== */
.topbar{
  position:sticky;top:0;z-index:40;
  display:flex;align-items:center;gap:12px;
  height:56px;padding:0 12px;background:#fff;border-bottom:1px solid var(--line);
  box-shadow:var(--ring);
}
.brand{display:flex;align-items:center;gap:10px;text-decoration:none;color:inherit}
.brand__logo{width:34px;height:34px;object-fit:contain}
.brand__text{display:flex;flex-direction:column;line-height:1}
.brand__text strong{font-weight:700}
.brand__text span{font-size:12px;color:var(--muted)}
.topbar__spacer{flex:1}
.icon-btn{
  width:36px;height:36px;border:1px solid var(--line);border-radius:10px;background:#fff;
  display:grid;place-items:center;font-size:18px;cursor:pointer;
}
.icon-btn:active{transform:translateY(1px)}

/* ===== Drawer ===== */
.drawer{
  position:fixed;inset:0 30% 0 0;max-width:300px;transform:translateX(-100%);
  background:#fff;box-shadow:40px 0 60px rgba(15,23,42,.15);
  transition:transform .25s ease;z-index:50;display:flex;flex-direction:column;
}
.drawer.is-open{transform:none}
.drawer__nav{padding:16px}
.drawer__link{
  display:block;padding:12px 14px;border-radius:10px;color:inherit;text-decoration:none;
}
.drawer__link:hover{background:#f5f7ff}
.drawer__link.is-active{background:#eef0ff;color:var(--brand);font-weight:600}
.drawer__footer{margin-top:auto;padding:12px 16px;border-top:1px solid var(--line);color:var(--muted)}
.scrim{
  position:fixed;inset:0;background:rgba(2,6,23,.35);backdrop-filter:saturate(160%) blur(2px);
  z-index:45;
}

/* ===== Auth ===== */
.login{padding:12px;border-bottom:1px solid var(--line);background:#fff}
.login__form{display:flex;gap:8px;align-items:end;flex-wrap:wrap}
.login__field{display:flex;flex-direction:column;gap:4px}
.login__field input{
  padding:10px 12px;border:1px solid var(--line);border-radius:10px;background:#fff;min-width:200px
}
.login__hint{color:var(--muted)}

/* ===== Buttons ===== */
.btn{
  appearance:none;border:0;border-radius:10px;padding:10px 14px;background:var(--brand);color:var(--brand-ink);
  font-weight:600;cursor:pointer;box-shadow:var(--ring)
}
.btn--ghost{background:#fff;color:var(--ink);border:1px solid var(--line)}
.btn:active{transform:translateY(1px)}

/* ===== Layout ===== */
.container{max-width:1100px;margin:16px auto;padding:0 12px}
.grid{display:grid;gap:12px}
.grid--2{grid-template-columns:1fr}
@media(min-width:900px){.grid--2{grid-template-columns:1fr 1fr}}

/* ===== Card ===== */
.card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--ring);padding:12px}
.card__head{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
.card__title{margin:0;font-size:16px}

/* ===== Table ===== */
.table-scroll{overflow:auto;border:1px solid var(--line);border-radius:var(--radius-sm)}
.gridtbl{width:100%;border-collapse:separate;border-spacing:0}
.gridtbl thead th{
  position:sticky;top:0;background:#fff;border-bottom:1px solid var(--line);text-align:left;padding:10px 12px;font-weight:700
}
.gridtbl td{padding:10px 12px;border-bottom:1px solid var(--line)}

/* ===== Chart ===== */
.chart-wrap{min-height:220px;display:grid;place-items:center}

/* ===== Details (sync) ===== */
details.card > summary{list-style:none;cursor:pointer}
details.card > summary::-webkit-details-marker{display:none}
